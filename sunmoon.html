<script src="Util.js"></script>
<script src="Scene.js"></script>
<script src="SceneItem.js"></script>
<script src="Frame.js"></script>
<script src="Bezier.js"></script>
<script src="TimingFunction.js"></script>
<script src="jquery.min.js"></script>
<script src="TransformFunction.js"></script>
<style>
body {
		background:skyblue;
}

.sun {
	width: 200px;
	height: 200px;
	top:50%;
	left: 50%;
	margin-left: -100px;
	margin-top:-100px;
	position: absolute;
	border-radius: 50%;
	box-sizing: border-box;
}
#sun {
/* 	background: #FFE26C; */
	border-color: #FFE26C;
	border-style: solid;
	border-width: 75px;
}
#sun2 {
	border: 75px solid #fff;
}
.sun_afterimage {
	width: 60px;
	height:2px;
	background: #FFE26C;
	top:50%;
	left: 50%;
	position: absolute;
	transform-origin: 0% 1px;
	transform:translate(120px, 0px);
}
#moonbackground {
	background: #96ABC0;	
	top:50%;
	left: 50%;
	width: 1000px;
	height: 1000px;
	margin: -500px 0 0 -500px;
	position: absolute;
	border-radius: 50%;
}


#text {
	top:50%;
	left: 50%;
	width: 100px;
	height: 100px;
	font-size: 100px;
	margin-left:-50px;
	margin-top:-50px;
	position: absolute;
	color: white;
	text-align: center;
	line-height: 100px;
	
	font-family: sans-serif;
}
.circles {
	z-index: 100;
}
.circle {
	width: 150px;
	height: 150px;
	top:50%;
	left: 50%;
	margin-top:-75px;
	margin-left:-75px;
	position: absolute;
	border-radius: 50%;
	box-sizing: border-box;
	border: 75px solid transparent;
}
</style>



<div id="sun" class="sun"></div>
<div id="sun2" class="sun"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>
<div class="sun_afterimage"></div>

<div class="circles" id="circles1">
	<div class="circle" style="border-color:#c9af52;"></div>
	<div class="circle"></div>
	<div class="circle"></div>
	<div class="circle"></div>
	<div class="circle"></div>
	<div class="circle"></div>	
</div>

<div id="text">1
</div>
<script>
var easeinout = [.48,.01,.25,1];
var sceneSunny = new Scene();
//sunny
var _sun1 = sceneSunny.addElement(sun);
_sun1.setTransform(0, "scale", "0, 0").setTransform(0.5, "scale", "1, 1").setProperty(0.2, "border-width", "100px").setProperty(0.4988, "display", "none").setProperty(0.5, "border-width","0px")
_sun1.addTimingFunction(0, 0.5, easeinout);


var _sun2 = sceneSunny.addElement(sun2);
_sun2.setTransform(0, "scale", "0, 0").setTransform(0.2, "scale", "0, 0").setTransform(0.45, "scale", "0.9, 0.9").setProperty(0.0, "border-width", "100px").setProperty(0.45, "border-width","0px").addTimingFunction(0, 0.5, easeinout);//.setProperty(0.3, "opacity", 1).setProperty(0.4, "opacity", 0)


var _sun_after = [];
var sun_afters = document.querySelectorAll(".sun_afterimage");
for (var i = 0; i < sun_afters.length; ++i) {
	_sun_after[i] = sceneSunny.addElement(sun_afters[i]);
	_sun_after[i].setTransforms(0, {rotate:(i * 45 +"deg"), translate:"80px, 0px", scale: "0,1"}).copyFrame(0, 0.9).setTransforms(0.2, {translate:"80px, 0px", scale: "0.7,1"}).setTransforms(0.5, {translate:"150px, 0px", scale: "0,1"}).addTimingFunction(0, 0.5, easeinout);
}
//rainy  1s  ~ 3s
var scene2 = new Scene();
sceneSunny.onAnimate(function(time, isFinish) {
	if(isFinish) {
		text.innerHTML = "2";
		scene2.play();
	}
});
var _circles = [];
var circles = document.querySelectorAll("#circles1 .circle");
for (var i = 0; i < circles.length; ++i) {
	_circles[i] = scene2.addElement(circles[i]);
	_circles[i].setProperties(-1, {
		"margin-left": "-100px",
		"margin-top" : "-100px",
		width: "200px",
		height: "200px"
	});
	_circles[i].scale(0, "0,0").scale(1, "1,1").setProperty(0.3, "border-width", "100px").setProperty(1, "border-width","0px");
}

scene2.synchronize(0);
/* scene2.setPlaySpeed(2); */
//snow 3s ~ 5s



// wind



sceneSunny.synchronize(0);
sceneSunny.setPlaySpeed(0.5);
sceneSunny.play();

</script>
